# 校园活动报名系统 需求说明报告

## 1. 项目背景

为提升校园活动的组织效率与宣传效果，设计并实现一个 Web 端“校园活动报名系统”，用于学生浏览活动、报名参加活动，管理员发布活动、审核报名与管理活动信息。本系统面向计算机学院课程实践，功能覆盖基本的活动管理与用户行为流程。

---

## 2. 系统目标

1. 为学生提供便捷的活动浏览、报名和查看报名状态的渠道。
2. 为管理员提供活动创建、发布、审核报名的管理后台。
3. 确保系统整体页面简洁易用，数据流清晰，功能完整可运行。
4. 支持后续扩展，如签到、活动统计等。

---

## 3. 系统角色与权限

### 3.1 学生（普通用户）

* 注册/登录学生账号
* 浏览活动列表与详情
* 进行活动报名
* 查看个人报名记录
* 修改个人信息

### 3.2 管理员

* 使用同一登录入口登录（账号角色为 `admin`）
* 创建与发布活动
* 管理活动（创建、编辑、删除、上下线）
* 查看报名列表
* 审核学生报名

---

## 4. 整体功能结构

```
校园活动报名系统
│
├── 前台（学生端）
│   ├── 登录 / 注册页面
│   ├── 活动列表页
│   ├── 活动详情页
│   ├── 报名表单页
│   ├── 我的报名记录页
│   └── 用户信息页
│
└── 管理后台
    ├── 活动管理模块
    │     ├── 活动创建
    │     ├── 活动上下线
    │     ├── 活动删除
    │     └── 活动列表（展示报名人数）
    └── 报名管理模块
          └── 报名审核页
```

---

## 5. 功能需求说明

### 5.1 学生端功能

#### 5.1.0 登录 / 注册

**描述**  
学生通过账号密码完成注册并登录，登录后才能报名、查看个人信息。

**功能需求**

* R0.1：注册表单需包含账号、密码、姓名、学号、学院、专业、电话等字段，注册成功后自动登录
* R0.2：登录表单支持账号+密码校验，错误时给出提示
* R0.3：登录态使用 Token/LocalStorage 管理，可安全退出

#### 5.1.1 活动列表页

**描述**
展示当前所有可报名（已上线）的活动。

**功能需求**

* R1：展示活动封面、标题、活动时间、地点、报名人数/上限等基本信息
* R3：点击活动卡片进入活动详情页
* R4：活动按开始时间排序（升序）

#### 5.1.2 活动详情页

**描述**
展示活动详细信息，提供报名入口。

**功能需求**

* R5：显示活动详细介绍（时间、地点、主办单位、人数上限等）
* R6：如活动可报名，显示“报名”按钮
* R7：展示当前报名人数 / 限额
* R8：展示活动上下线状态；当已报名或人数已满时，报名按钮置灰并提示“已报名/不可报名”

#### 5.1.3 报名表单页

**描述**
学生确认活动信息并提交报名备注（可选）。

**功能需求**

* R9：表单仅包含备注字段；姓名/学号/学院/专业/电话等信息来自已登录用户的个人资料
* R10：提交后写入数据库并反馈结果
* R11：重复报名时给出提示；已拒绝的报名允许重新提交
* R12：若活动设置了学院/年级限制，则仅允许符合条件的学生报名（年级取学号前四位）

#### 5.1.4 我的报名记录页

**描述**
展示学生过去的报名记录。

**功能需求**

* R13：展示活动名称、报名时间、审核状态
* R14：支持按状态筛选（通过 / 待审核 / 拒绝）

#### 5.1.5 用户信息管理

* R15：查看与编辑个人基本信息

---

### 5.2 管理后台功能

#### 5.2.1 活动管理

**创建活动**

* R16：管理员可创建活动，字段包含标题、封面、开始日期、结束日期、地点、详情、人数上限等
* R17：封面支持图片上传（上传至 Cloudinary 获取 URL），未上传则可为空
* R17-1：管理员可为活动设置报名限制：允许学院列表、允许年级列表（逗号分隔）

**编辑活动**

* R17-2：管理员可在后台编辑已创建活动的基础信息与报名限制

**上下线/删除**

* R18：管理员可对活动进行上下线切换
* R19：管理员可删除活动
* R20：权限校验：仅允许对“自己创建的活动”进行上下线/删除；越权时接口返回 403

**活动列表与报名人数**

* R21：管理端展示活动列表（默认仅展示本人创建的活动），并展示每个活动当前报名人数/上限（统计口径为状态为待审核/通过的报名）
* R22：说明：即使前端只展示本人创建的活动，后端仍保留越权操作的 403 校验

#### 5.2.2 报名管理（审核功能）

* R23：管理员可选择活动并查看其报名列表
* R24：可按报名状态筛选（待审核 / 通过 / 拒绝）
* R25：管理员可对待审核报名执行“通过/拒绝”，已处理记录不可重复操作

---

## 6. 非功能性需求

### 6.1 易用性

* 页面布局简洁统一
* 按钮、表单清晰可交互
* 移动端适配（选做）

### 6.2 性能

* 活动列表加载时间应 < 1 秒（前端缓存可选）

### 6.3 可靠性

* 表单提交具备前后端双重校验（必填项/状态校验/重复报名校验）
* 数据存储不丢失

### 6.4 安全性

* 全站关键操作需登录状态校验，管理员操作需额外角色判断
* 密码必须采用不可逆哈希（如 bcrypt）进行存储

---

## 7. 数据库设计

### 7.1 用户表（users）

| 字段           | 类型        | 描述               |
| ------------- | --------- | ---------------- |
| id            | int       | 主键               |
| username      | varchar   | 登录账号（唯一）        |
| password_hash | varchar   | 加密后的密码            |
| role          | enum      | `student` / `admin` |
| name          | varchar   | 姓名               |
| student_id    | varchar   | 学号（唯一）          |
| phone         | varchar   | 电话               |
| college       | varchar   | 学院               |
| major         | varchar   | 专业               |
| create_time   | datetime  | 创建时间             |

### 7.2 活动表（events）

| 字段          | 类型       | 描述        |
| ----------- | -------- | --------- |
| id          | int      | 主键        |
| title       | varchar  | 活动标题      |
| cover       | varchar  | 封面图片      |
| description | text     | 活动详情      |
| start_time  | datetime | 活动开始时间    |
| end_time    | datetime | 活动结束时间    |
| place       | varchar  | 活动地点      |
| limit       | int      | 报名人数上限    |
| status      | tinyint  | 0 下线 1 上线 |
| creator_id  | int      | 创建者 ID（外键关联 users 表） |
| create_time | datetime | 发布时间      |

### 7.3 报名表（registrations）

| 字段          | 类型       | 描述              |
| ----------- | -------- | --------------- |
| id          | int      | 主键              |
| user_id     | int      | 用户外键            |
| event_id    | int      | 活动外键            |
| remark      | varchar  | 备注              |
| status      | tinyint  | 0 待审核 1 通过 2 拒绝 |
| create_time | datetime | 报名时间            |

---

## 9. 项目运行环境需求

* Node.js ≥ 18
* 前端：Vue3 + Vite + JavaScript
* 后端：Node.js + Express
* 数据库：MySQL

---
