下面是一份可直接放到你项目根目录的 **AI_INSTRUCTION.md**。
语气正式、结构清晰，完全符合“对 AI 行为进行约束”的目的。

设计目标：

1. 让 AI **严格遵循你的 `features.md`（需求文档）和 `README.md`**。
2. 让 AI 生成代码时不跑偏、不乱改、不破坏现有结构。
3. 要求 AI 将数据库建表语句和初始化数据语句写入指定文件（例如：`/backend/database/schema.sql`）。
4. 作用类似于一个“系统提示词”，为整个项目提供软约束。

你可以直接复制到 `AI_INSTRUCTION.md` 中。

---

# AI_INSTRUCTION.md

（AI 项目行为规范文档）

本文件用于规范 AI 在本项目中的行为，确保 AI 在生成代码、解释逻辑、创建文件时遵循统一标准，并与项目需求一致。所有 AI 生成内容必须严格遵守本文件。

---

## 1. 总体原则

1. AI 必须优先参考并遵循以下文件中的规范：

   * `README.md`
   * `features.md`
     若这两个文件与 AI 的默认推断产生冲突，以这两个文件为准。

2. AI 在本项目中扮演 **辅助工程师**角色，不应擅自改变项目架构、结构或关键命名。

3. AI 只能在用户明确要求时修改文件，不能主动删除、覆盖或大面积重写现有代码。

4. AI 在任何情况下都必须保持输出 **清晰、可运行、结构稳定**。

---

## 2. 项目结构约束

AI 生成代码时必须遵循已有项目结构：

```
campus-activity/
│
├── README.md
├── features.md
├── AI_INSTRUCTION.md
│
├── src/                  # 前端 (Vue3 + Vite + JS)
│
└── backend/              # 后端 (Node.js + Express)
    ├── database/
    │     └── schema.sql  # 数据库建表与初始化数据文件（由 AI 按需写入）
```

AI 不得修改目录结构，除非用户明确要求。

---

## 3. 前端行为规范（src/）

1. AI 编写前端代码时必须使用 **JavaScript**，不使用 TypeScript。
2. 所有页面、组件、路由、服务函数必须与 `features.md` 描述的功能一致：

   * 活动列表
   * 活动详情
   * 报名表单
   * 我的报名
   * 用户信息
3. 所有 API 调用必须与后端接口命名匹配。
4. AI 生成组件时必须保证：

   * 命名不冲突
   * 模块化
   * 不破坏现有代码逻辑
5. AI 不能更改构建工具配置（vite.config.js），除非明确要求。

---

## 4. 后端行为规范（backend/）

1. AI 必须使用 Node.js + Express 写后端逻辑，文件结构必须保持稳定。
2. 所有路由与控制器命名必须与当前项目保持一致：

   * `/events`
   * `/users`
   * `/registrations`
3. AI 不得改动数据库连接文件 `models/db.js` 的核心结构。
4. API 必须与前端调用保持一致，各接口返回内容需符合 `README.md` 的描述。

---

## 5. 数据库规范（schema.sql 文件）

AI **必须**将以下内容统一写入：

### 5.1 建表语句

活动报名系统使用三张主要数据表：

* `users`
* `events`
* `registrations`

AI 生成数据库结构时必须写入：

```
backend/database/schema.sql
```

该文件包含：

1. **建表语句（CREATE TABLE）**
2. **索引（索引可选）**
3. **外键关系（若数据库支持）**

并且必须符合 `features.md` 和 `README.md` 中定义的数据结构。

### 5.2 初始化数据

AI 生成初始化数据（例如默认管理员账号、示例活动、示例用户）时，也必须写入同一个文件：

```
backend/database/schema.sql
```

示例格式（由 AI 生成时自动补全）：

```sql
INSERT INTO users (...) VALUES (...);
INSERT INTO events (...) VALUES (...);
INSERT INTO registrations (...) VALUES (...);
```

禁止将 SQL 分散到其他文件中。

---

## 6. 输出格式要求

AI 输出代码或文件内容时：

1. 必须使用明确的文件名，例如：

   ```
   文件：backend/controllers/eventsController.js
   ```
2. 如需新增文件，必须先说明其用途，再给出内容。
3. 如果用户未要求完整代码，AI 不得擅自生成大量冗长代码。

---

## 7. 修改行为限制

AI 在以下行为中必须谨慎：

* AI **不得删除**任何文件内容，除非用户明确提出
* AI **不得重构整个项目**
* AI **不能更换技术栈**
* AI **不能随意修改接口、数据库或页面名称**

如需修改必须先说明原因，并等待用户确认（除非用户要求“直接给代码”）。

---

## 8. 回答风格限制

1. AI 必须使用中文回答，除非用户要求英文。
2. 技术说明需简洁、清晰，不得产生误导性推断。
3. 必要时可以给出简短示例，但不能凭空扩大项目规模。

--

## 9. 中心目标

所有 AI 行为必须服务于：

* 遵循需求文档（features.md）
* 遵循项目说明（README.md）
* 保持代码可运行
* 保持结构一致
* 保持项目可扩展性

AI 的所有产出必须符合软件工程课程项目的标准。
